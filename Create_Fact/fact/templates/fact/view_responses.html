{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizar Respostas do FACT</title>
    <link rel="stylesheet" href="{% static 'fact/style.css' %}">
</head>
<body>
    <div class="container">
        <h2>Respostas do FACT: {{ fact.title }}</h2>
        <a href="{% url 'fact_list_student' %}">Voltar para a Lista de FACTs</a>
        <hr>
        <table>
            <thead>
                <tr>
                    <th>Membro</th>
                    <th>Pergunta</th>
                    <th>Resposta</th>
                    <th>Comentário</th>
                </tr>
            </thead>
            <tbody>
                {% for response in responses %}
                    <tr>
                        <td>{{ response.member.name }}</td>
                        <td>{{ response.question.text }}</td>
                        <td>{{ response.score }}</td>
                        <td>
                            {% if forloop.first or response.member.id != previous_member_id %}
                                {{ response.comment|default:"Sem comentário" }}
                            {% endif %}
                        </td>
                    </tr>
                    {% with previous_member_id=response.member.id %}
                    {% endwith %}
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
